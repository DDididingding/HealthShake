<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jhgpt.model.dao.BoardDao">

    <!-- 모든 게시글 가져오기 -->
    <select id="selectAllBoards" resultType="com.jhgpt.model.dto.Board">
        SELECT * FROM Board;
    </select>

    <!-- 하나의 게시글 조회 -->
    <select id="selectOneBoard" parameterType="int" resultType="com.jhgpt.model.dto.Board">
        SELECT * FROM Board WHERE board_code = #{board_code};
    </select>

    <!-- 게시글 등록 -->
    <insert id="insertBoard" parameterType="com.jhgpt.model.dto.Board">
        INSERT INTO Board (member_code, board_title, board_content, board_uploader, board_viewcnt, board_uploadtime, board_modify_status)
        VALUES (#{member_code}, #{board_title}, #{board_content}, #{board_uploader}, #{board_viewcnt}, #{board_uploadtime}, #{board_modify_status});
    </insert>

    <!-- 게시글 삭제 -->
    <delete id="deleteBoard" parameterType="int">
        DELETE FROM Board WHERE board_code = #{board_code};
    </delete>

    <!-- 게시글 수정 -->
    <update id="updateBoard" parameterType="com.jhgpt.model.dto.Board">
        UPDATE Board
        SET member_code = #{member_code}, board_title = #{board_title}, board_content = #{board_content},
            board_uploader = #{board_uploader}, board_viewcnt = #{board_viewcnt},
            board_uploadtime = #{board_uploadtime}, board_modify_status = #{board_modify_status}
        WHERE board_code = #{board_code};
    </update>

    <!-- 특정 회원의 게시글 목록 가져오기 -->
    <select id="selectMemberBoards" parameterType="int" resultType="com.jhgpt.model.dto.Board">
        SELECT * FROM Board WHERE member_code = #{member_code};
    </select>

    <!-- 트레이너의 게시글 목록 가져오기 -->
    <select id="selectTrainerBoards" parameterType="int" resultType="com.jhgpt.model.dto.Board">
        SELECT * FROM Board WHERE member_code = #{member_code} AND board_modify_status = 1;
    </select>

    <!-- 유저의 게시글 목록 가져오기 -->
    <select id="selectUserBoards" parameterType="int" resultType="com.jhgpt.model.dto.Board">
        SELECT * FROM Board WHERE member_code = #{member_code} AND board_modify_status = 0;
    </select>

</mapper>
